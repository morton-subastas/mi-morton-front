{"ast":null,"code":"import _classCallCheck from \"C:/Users/vmartinez/Documents/Proyectos Morton/mi-morton-front/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/vmartinez/Documents/Proyectos Morton/mi-morton-front/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { Router } from '@angular/router'; //import { info } from 'console';\n//import { timingSafeEqual } from 'crypto';\n//import Swal from 'sweetalert2';\n\nimport { UsuarioModel } from '../../models/usuario.model';\nimport { AuthService } from '../../services/auth.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\n\nfunction LoginComponent_span_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 21);\n    i0.ɵɵtext(1, \"El correo es invalido\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LoginComponent_span_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 21);\n    i0.ɵɵtext(1, \"Al menos 5 letras\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LoginComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1, \" Datos incorrectos, verifique nuevamente. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport var LoginComponent = /*#__PURE__*/(function () {\n  var LoginComponent = /*#__PURE__*/function () {\n    //recordarme = false;\n    function LoginComponent(auth, router) {\n      _classCallCheck(this, LoginComponent);\n\n      this.auth = auth;\n      this.router = router;\n      this.DontShowData = false;\n      this.cliente = '';\n    }\n\n    _createClass(LoginComponent, [{\n      key: \"ngOnInit\",\n      value: function ngOnInit() {\n        this.usuario = new UsuarioModel();\n        /*\r\n        if(localStorage.getItem('email')){\r\n            this.usuario.email = localStorage.getItem('email');\r\n            this.recordarme = true;\r\n        }\r\n        */\n      }\n    }, {\n      key: \"login\",\n      value: function login(form) {\n        var _this = this;\n\n        if (form.invalid) {\n          //console.log(\"no aparece\"); \n          return;\n        }\n        /*\r\n        Swal.fire({\r\n        icon: 'error',\r\n        title: 'Oops...',\r\n        text: 'Something went wrong!',\r\n        footer: '<a href=\"\">Why do I have this issue?</a>'\r\n        })\r\n        */\n        //console.log(\"usuario enviado\");\n        //console.log(this.usuario);\n        //console.log(form);\n\n\n        this.auth.login(this.usuario).subscribe(function (res) {\n          //console.log(\"llega\");\n          //console.log(res[\"id_token\"]);\n          _this.cliente = res['cliente'];\n          /*\r\n          if(this.recordarme){\r\n            localStorage.setItem('email', this.usuario.email);\r\n          }\r\n          */\n\n          _this.usuario.cliente = _this.cliente;\n\n          _this.router.navigateByUrl('/home');\n        }, function (err) {\n          _this.DontShowData = true; //console.log(err.error.mensaje);\n        });\n      }\n    }]);\n\n    return LoginComponent;\n  }();\n\n  LoginComponent.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  LoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"app-login\"]],\n    decls: 27,\n    vars: 5,\n    consts: [[1, \"bg-first-login\"], [1, \"limiter\", \"animated\", \"fadeInDown\"], [1, \"container-login100\"], [1, \"wrap-login100\", \"p-form\"], [1, \"login100-form\", \"validate-form\", \"flex-sb\", \"flex-w\", 3, \"ngSubmit\"], [\"formulario\", \"ngForm\"], [1, \"img-logo-main\"], [\"src\", \"../../../assets/images/logosMorton.png\", \"alt\", \"\"], [1, \"login100-form-title\"], [2, \"color\", \"#004d43\"], [\"class\", \"text-danger\", \"animated\", \"\", \"fadeIn\", \"\", 4, \"ngIf\"], [1, \"wrap-input100\", \"m-b-16\"], [\"type\", \"email\", \"name\", \"email\", \"required\", \"\", \"email\", \"\", \"placeholder\", \"Email\", 1, \"input100\", 3, \"ngModel\", \"ngModelChange\"], [1, \"focus-input100\"], [\"data-validate\", \"Password is required\", 1, \"wrap-input100\", \"m-b-16\"], [\"type\", \"password\", \"name\", \"password\", \"minlength\", \"5\", \"required\", \"\", \"placeholder\", \"Contrase\\xF1a\", 1, \"input100\", 3, \"ngModel\", \"ngModelChange\"], [\"class\", \"alert alert-danger w-full\", \"role\", \"alert\", 4, \"ngIf\"], [1, \"flex-sb-m\", \"w-full\", \"p-t-3\", \"p-b-24\"], [\"routerLink\", \"/registro\", 1, \"txt1\"], [1, \"container-login100-form-btn\", \"m-t-17\"], [\"type\", \"submit\", 1, \"login100-form-btn\"], [\"animated\", \"\", \"fadeIn\", \"\", 1, \"text-danger\"], [\"role\", \"alert\", 1, \"alert\", \"alert-danger\", \"w-full\"]],\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        var _r4 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"form\", 4, 5);\n        i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_4_listener() {\n          i0.ɵɵrestoreView(_r4);\n\n          var _r0 = i0.ɵɵreference(5);\n\n          return i0.ɵɵresetView(ctx.login(_r0));\n        });\n        i0.ɵɵelementStart(6, \"div\", 6);\n        i0.ɵɵelement(7, \"img\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"h2\", 8)(9, \"span\", 9);\n        i0.ɵɵtext(10, \"BIENVENIDO\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(11, LoginComponent_span_11_Template, 2, 0, \"span\", 10);\n        i0.ɵɵelementStart(12, \"div\", 11)(13, \"input\", 12);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_13_listener($event) {\n          return ctx.usuario.email = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(14, \"span\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(15, LoginComponent_span_15_Template, 2, 0, \"span\", 10);\n        i0.ɵɵelementStart(16, \"div\", 14)(17, \"input\", 15);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_17_listener($event) {\n          return ctx.usuario.password = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(18, \"span\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(19, LoginComponent_div_19_Template, 2, 0, \"div\", 16);\n        i0.ɵɵelementStart(20, \"div\", 17)(21, \"div\")(22, \"a\", 18);\n        i0.ɵɵtext(23, \" \\xBFNo tienes cuenta? \");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(24, \"div\", 19)(25, \"button\", 20);\n        i0.ɵɵtext(26, \" Ingresar \");\n        i0.ɵɵelementEnd()()()()()()();\n      }\n\n      if (rf & 2) {\n        var _r0 = i0.ɵɵreference(5);\n\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"ngIf\", _r0.submitted && _r0.controls[\"email\"].errors);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.usuario.email);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", _r0.submitted && _r0.controls[\"password\"].errors);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.usuario.password);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.DontShowData);\n      }\n    },\n    dependencies: [i3.NgIf, i2.RouterLinkWithHref, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.MinLengthValidator, i4.EmailValidator, i4.NgModel, i4.NgForm]\n  });\n  return LoginComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}