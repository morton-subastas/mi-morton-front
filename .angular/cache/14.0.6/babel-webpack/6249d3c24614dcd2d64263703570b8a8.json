{"ast":null,"code":"import _classCallCheck from \"C:/Users/vmartinez/Documents/Proyectos Morton/mi-morton-front/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/vmartinez/Documents/Proyectos Morton/mi-morton-front/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { UsuarioModel } from '../../models/usuario.model';\nimport { AuthService } from '../../services/auth.service';\nimport { Router } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\n\nfunction RegistroComponent_span_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 21);\n    i0.ɵɵtext(1, \"El correo es invalido\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegistroComponent_span_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 21);\n    i0.ɵɵtext(1, \"El nombre es obligatorio\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegistroComponent_span_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 21);\n    i0.ɵɵtext(1, \"El password es obligatorio\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegistroComponent_span_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 21);\n    i0.ɵɵtext(1, \"El password es obligatorio\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport var RegistroComponent = /*#__PURE__*/(function () {\n  var RegistroComponent = /*#__PURE__*/function () {\n    function RegistroComponent(auth, router) {\n      _classCallCheck(this, RegistroComponent);\n\n      this.auth = auth;\n      this.router = router;\n    }\n\n    _createClass(RegistroComponent, [{\n      key: \"ngOnInit\",\n      value: function ngOnInit() {\n        this.usuario = new UsuarioModel(); //this.usuario.email = 'msanchez@mortonsubastas.com';\n      }\n    }, {\n      key: \"onSubmit\",\n      value: function onSubmit(form) {\n        var _this = this;\n\n        if (form.invalid) {\n          console.log(\"no aparece\");\n          return;\n        } //console.log(\"usuario enviado\");\n        //console.log(this.usuario);\n        //console.log(form);\n\n\n        this.auth.nuevo_usuario(this.usuario).subscribe(function (resp) {\n          console.log(resp);\n          console.log('Exito registro');\n          console.log(resp[\"insert\"]);\n\n          if (resp[\"insert\"]) {\n            _this.router.navigateByUrl('/login');\n          }\n        }, function (err) {\n          console.log(err.error.mensaje);\n        });\n      }\n    }]);\n\n    return RegistroComponent;\n  }();\n\n  RegistroComponent.ɵfac = function RegistroComponent_Factory(t) {\n    return new (t || RegistroComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  RegistroComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: RegistroComponent,\n    selectors: [[\"app-registro\"]],\n    decls: 35,\n    vars: 8,\n    consts: [[1, \"bg-first-login\"], [1, \"limiter\", \"animated\", \"fadeInDown\"], [1, \"container-login100\"], [1, \"wrap-login100\", \"p-form\"], [1, \"login100-form\", \"validate-form\", \"flex-sb\", \"flex-w\", 3, \"ngSubmit\"], [\"formulario\", \"ngForm\"], [1, \"img-logo-main\"], [\"src\", \"../../../assets/images/logosMorton.png\", \"alt\", \"\"], [1, \"login100-form-title\"], [2, \"color\", \"#004d43\"], [\"class\", \"text-danger\", \"animated\", \"\", \"fadeIn\", \"\", 4, \"ngIf\"], [1, \"wrap-input100\", \"m-b-16\"], [\"type\", \"email\", \"name\", \"email\", \"required\", \"\", \"email\", \"\", \"placeholder\", \"Email\", 1, \"input100\", 3, \"ngModel\", \"ngModelChange\"], [1, \"focus-input100\"], [\"type\", \"text\", \"name\", \"nombre\", \"required\", \"\", \"minlength\", \"5\", \"placeholder\", \"Nombre y apellidos\", 1, \"input100\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"password\", \"name\", \"password\", \"required\", \"\", \"minlength\", \"5\", \"placeholder\", \"Password\", 1, \"input100\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"cliente\", \"required\", \"\", \"minlength\", \"5\", \"placeholder\", \"Numero de cliente\", 1, \"input100\", 3, \"ngModel\", \"ngModelChange\"], [1, \"flex-sb-m\", \"w-full\", \"p-t-3\", \"p-b-24\"], [\"routerLink\", \"/login\", 1, \"txt1\"], [1, \"container-login100-form-btn\", \"m-t-17\"], [\"type\", \"submit\", 1, \"login100-form-btn\"], [\"animated\", \"\", \"fadeIn\", \"\", 1, \"text-danger\"]],\n    template: function RegistroComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        var _r5 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"form\", 4, 5);\n        i0.ɵɵlistener(\"ngSubmit\", function RegistroComponent_Template_form_ngSubmit_4_listener() {\n          i0.ɵɵrestoreView(_r5);\n\n          var _r0 = i0.ɵɵreference(5);\n\n          return i0.ɵɵresetView(ctx.onSubmit(_r0));\n        });\n        i0.ɵɵelementStart(6, \"div\", 6);\n        i0.ɵɵelement(7, \"img\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"h2\", 8)(9, \"span\", 9);\n        i0.ɵɵtext(10, \"Crear nueva\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(11, \" cuenta \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(12, RegistroComponent_span_12_Template, 2, 0, \"span\", 10);\n        i0.ɵɵelementStart(13, \"div\", 11)(14, \"input\", 12);\n        i0.ɵɵlistener(\"ngModelChange\", function RegistroComponent_Template_input_ngModelChange_14_listener($event) {\n          return ctx.usuario.email = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(15, \"span\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(16, RegistroComponent_span_16_Template, 2, 0, \"span\", 10);\n        i0.ɵɵelementStart(17, \"div\", 11)(18, \"input\", 14);\n        i0.ɵɵlistener(\"ngModelChange\", function RegistroComponent_Template_input_ngModelChange_18_listener($event) {\n          return ctx.usuario.nombre = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(19, \"span\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(20, RegistroComponent_span_20_Template, 2, 0, \"span\", 10);\n        i0.ɵɵelementStart(21, \"div\", 11)(22, \"input\", 15);\n        i0.ɵɵlistener(\"ngModelChange\", function RegistroComponent_Template_input_ngModelChange_22_listener($event) {\n          return ctx.usuario.password = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(23, \"span\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(24, RegistroComponent_span_24_Template, 2, 0, \"span\", 10);\n        i0.ɵɵelementStart(25, \"div\", 11)(26, \"input\", 16);\n        i0.ɵɵlistener(\"ngModelChange\", function RegistroComponent_Template_input_ngModelChange_26_listener($event) {\n          return ctx.usuario.cliente = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(27, \"span\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"div\", 17)(29, \"div\")(30, \"a\", 18);\n        i0.ɵɵtext(31, \" \\xBFYa tienes cuenta? / Ingresar \");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(32, \"div\", 19)(33, \"button\", 20);\n        i0.ɵɵtext(34, \" Crear cuenta \");\n        i0.ɵɵelementEnd()()()()()()();\n      }\n\n      if (rf & 2) {\n        var _r0 = i0.ɵɵreference(5);\n\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"ngIf\", _r0.submitted && _r0.controls[\"email\"].errors);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.usuario.email);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", _r0.submitted && _r0.controls[\"nombre\"].errors);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.usuario.nombre);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", _r0.submitted && _r0.controls[\"password\"].errors);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.usuario.password);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", _r0.submitted && _r0.controls[\"cliente\"].errors);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.usuario.cliente);\n      }\n    },\n    dependencies: [i3.NgIf, i2.RouterLinkWithHref, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.MinLengthValidator, i4.EmailValidator, i4.NgModel, i4.NgForm]\n  });\n  return RegistroComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}